<div ng-controller="BucketsCtrl">
  <div ng-show="err" class="alert alert-error">
    <i class="icon-flag"></i> {{err}}
  </div>

  <ul class="breadcrumb">
    <li>
      <a href="#/server">
        <i class="icon-home"></i> server
      </a>
      <span class="divider">/</span>
    </li>
    <li class="active"><i class="icon-book"></i> buckets</li>
  </ul>

  <div class="row main">
    <div class="span8">
      <legend>Buckets ({{names.length}})</legend>
      <ul>
        <li>
          Filter <input ng-model="filterChoice">
        </li>
        <li ng-repeat="name in names | filter:filterChoice">
          <a href="#/buckets/{{name}}"><i class="icon-folder-open"></i> {{name}}</a>
        </li>
      </ul>
    </div>
    <div class="span4">
      <legend>Manage</legend>
      <button class="btn" ng-click="bucketsRescan()">
        Rescan Buckets Directory
      </button>
      <br/>
      <br/>
      <br/>

      <form name="bucketCreateForm">
        <legend>Create new bucket</legend>
        <label>Bucket name
          <input type="text"
                name="bucketName"
                required
                placeholder="your-bucket-name"
                ng-model="bucketName"/>
        </label>
        <label>Bucket password
          <input type="text"
                name="bucketPassword"
                ng-model="bucketPassword"/>
        </label>
        <label>Bucket quota (bytes)
          <input type="text"
                name="bucketQuotaBytes"
                ng-model="bucketQuotaBytes"/>
        </label>
        <label>Bucket persistence
          <select name="bucketMemoryOnly"
                 ng-model="bucketMemoryOnly">
            <option value="0">persist everything</option>
            <option value="1">do not persist item operations</option>
            <option value="2">persist nothing</option>
          </select>
        </label>
        <button type="submit" class="btn" ng-click="bucketCreate()">
          Create Bucket
        </button>
      </form>
      <div ng-show="bucketCreateResult">
        {{bucketCreateResult}}
      </div>
    </div>
  </div>
</div>
